"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Circle=function(){function e(t,r){_classCallCheck(this,e),this.x=t,this.y=r,this.r=10*Math.random(),this._mx=Math.random(),this._my=Math.random()}return _createClass(e,[{key:"drawCircle",value:function(e){e.beginPath(),e.arc(this.x,this.y,this.r,0,360),e.closePath(),e.fillStyle="rgba(204, 204, 204, 0.3)",e.fill()}},{key:"drawLine",value:function(e,t){var r=this.x-t.x,i=this.y-t.y;Math.sqrt(r*r+i*i)<150&&(e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(t.x,t.y),e.closePath(),e.strokeStyle="rgba(204, 204, 204, 0.3)",e.stroke())}},{key:"move",value:function(e,t){this._mx=this.x<e&&this.x>0?this._mx:-this._mx,this._my=this.y<t&&this.y>0?this._my:-this._my,this.x+=this._mx/2,this.y+=this._my/2}}]),e}(),currentCirle=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return _inherits(t,e),_createClass(t,[{key:"drawCircle",value:function(e){e.beginPath(),this.r=8,e.arc(this.x,this.y,this.r,0,360),e.closePath(),e.fillStyle="red",e.fill()}}]),t}(Circle),canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),w=canvas.width=canvas.offsetWidth,h=canvas.height=canvas.offsetHeight,circles=[],current_circle=new currentCirle(0,0);console.log("current_circle",current_circle);var draw=function e(){ctx.clearRect(0,0,w,h);for(var t=0;t<circles.length;t++){circles[t].move(w,h),circles[t].drawCircle(ctx);for(var r=t+1;r<circles.length;r++)circles[t].drawLine(ctx,circles[r])}if(current_circle.x){current_circle.drawCircle(ctx);for(var i=1;i<circles.length;i++)current_circle.drawLine(ctx,circles[i])}requestAnimationFrame(e)},init=function(e){for(var t=0;t<e;t++)circles.push(new Circle(Math.random()*w,Math.random()*h));console.log("circles",circles),draw()};window.addEventListener("load",init(60)),window.onmousemove=function(e){e=e||window.event,current_circle.x=e.clientX,current_circle.y=e.clientY},window.onmouseout=function(){current_circle.x=null,current_circle.y=null};