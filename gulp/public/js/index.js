"use strict";

var zNodes = [{ id: 0, pId: -1, name: "Aaaa" }, { id: 1, pId: 0, name: "A" }, { id: 11, pId: 1, name: "A1" }, { id: 12, pId: 1, name: "A2" }, { id: 13, pId: 1, name: "A3" }, { id: 2, pId: 0, name: "B" }, { id: 21, pId: 2, name: "B1" }, { id: 22, pId: 2, name: "B2" }, { id: 23, pId: 2, name: "B3" }, { id: 3, pId: 0, name: "C" }, { id: 31, pId: 3, name: "C1" }, { id: 32, pId: 3, name: "C2" }, { id: 33, pId: 3, name: "C3" }, { id: 34, pId: 31, name: "x" }, { id: 35, pId: 31, name: "y" }, { id: 36, pId: 31, name: "z" }, { id: 37, pId: 36, name: "z1123" }, { id: 38, pId: 37, name: "z123123123" }];
function treeMenu(a) {
    this.tree = a || []; //this.tree 为 传入的数组
    this.groups = {};
};
treeMenu.prototype = {
    init: function init(pid) {
        this.group(); // pid为要获取的id

        return this.getDom(this.groups[pid]);
    },
    group: function group() {
        for (var i = 0; i < this.tree.length; i++) {
            if (this.groups[this.tree[i].pId]) {
                this.groups[this.tree[i].pId].push(this.tree[i]);
            } else {
                this.groups[this.tree[i].pId] = [];
                this.groups[this.tree[i].pId].push(this.tree[i]);
            }
        }
        console.log(this.groups);
    },
    getDom: function getDom(a) {
        if (!a) {
            return '';
        }
        var html = '\n<ul >\n';
        for (var i = 0; i < a.length; i++) {
            html += '<li><a href="' + a[i].id + '">' + a[i].name + '</a>';
            html += this.getDom(this.groups[a[i].id]);
            html += '</li>\n';
        };
        html += '</ul>\n';
        return html;
    }
};
var html = new treeMenu(zNodes).init(0);
console.log(html);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInpOb2RlcyIsImlkIiwicElkIiwibmFtZSIsInRyZWVNZW51IiwiYSIsInRyZWUiLCJncm91cHMiLCJwcm90b3R5cGUiLCJpbml0IiwicGlkIiwiZ3JvdXAiLCJnZXREb20iLCJpIiwibGVuZ3RoIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJodG1sIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFNBQU8sQ0FDUCxFQUFDQyxJQUFHLENBQUosRUFBTUMsS0FBSSxDQUFDLENBQVgsRUFBYUMsTUFBSyxNQUFsQixFQURPLEVBRVAsRUFBQ0YsSUFBRyxDQUFKLEVBQU1DLEtBQUksQ0FBVixFQUFZQyxNQUFLLEdBQWpCLEVBRk8sRUFHUCxFQUFDRixJQUFHLEVBQUosRUFBT0MsS0FBSSxDQUFYLEVBQWFDLE1BQUssSUFBbEIsRUFITyxFQUlQLEVBQUNGLElBQUcsRUFBSixFQUFPQyxLQUFJLENBQVgsRUFBYUMsTUFBSyxJQUFsQixFQUpPLEVBS1AsRUFBQ0YsSUFBRyxFQUFKLEVBQU9DLEtBQUksQ0FBWCxFQUFhQyxNQUFLLElBQWxCLEVBTE8sRUFNUCxFQUFDRixJQUFHLENBQUosRUFBTUMsS0FBSSxDQUFWLEVBQVlDLE1BQUssR0FBakIsRUFOTyxFQU9QLEVBQUNGLElBQUcsRUFBSixFQUFPQyxLQUFJLENBQVgsRUFBYUMsTUFBSyxJQUFsQixFQVBPLEVBUVAsRUFBQ0YsSUFBRyxFQUFKLEVBQU9DLEtBQUksQ0FBWCxFQUFhQyxNQUFLLElBQWxCLEVBUk8sRUFTUCxFQUFDRixJQUFHLEVBQUosRUFBT0MsS0FBSSxDQUFYLEVBQWFDLE1BQUssSUFBbEIsRUFUTyxFQVVQLEVBQUNGLElBQUcsQ0FBSixFQUFNQyxLQUFJLENBQVYsRUFBWUMsTUFBSyxHQUFqQixFQVZPLEVBV1AsRUFBQ0YsSUFBRyxFQUFKLEVBQU9DLEtBQUksQ0FBWCxFQUFhQyxNQUFLLElBQWxCLEVBWE8sRUFZUCxFQUFDRixJQUFHLEVBQUosRUFBT0MsS0FBSSxDQUFYLEVBQWFDLE1BQUssSUFBbEIsRUFaTyxFQWFQLEVBQUNGLElBQUcsRUFBSixFQUFPQyxLQUFJLENBQVgsRUFBYUMsTUFBSyxJQUFsQixFQWJPLEVBY1AsRUFBQ0YsSUFBRyxFQUFKLEVBQU9DLEtBQUksRUFBWCxFQUFjQyxNQUFLLEdBQW5CLEVBZE8sRUFlUCxFQUFDRixJQUFHLEVBQUosRUFBT0MsS0FBSSxFQUFYLEVBQWNDLE1BQUssR0FBbkIsRUFmTyxFQWdCUCxFQUFDRixJQUFHLEVBQUosRUFBT0MsS0FBSSxFQUFYLEVBQWNDLE1BQUssR0FBbkIsRUFoQk8sRUFpQlAsRUFBQ0YsSUFBRyxFQUFKLEVBQU9DLEtBQUksRUFBWCxFQUFjQyxNQUFLLE9BQW5CLEVBakJPLEVBa0JQLEVBQUNGLElBQUcsRUFBSixFQUFPQyxLQUFJLEVBQVgsRUFBY0MsTUFBSyxZQUFuQixFQWxCTyxDQUFYO0FBb0JBLFNBQVNDLFFBQVQsQ0FBa0JDLENBQWxCLEVBQW9CO0FBQ2hCLFNBQUtDLElBQUwsR0FBVUQsS0FBRyxFQUFiLENBRGdCLENBQ0E7QUFDaEIsU0FBS0UsTUFBTCxHQUFZLEVBQVo7QUFDSDtBQUNESCxTQUFTSSxTQUFULEdBQW1CO0FBQ2ZDLFVBQUssY0FBU0MsR0FBVCxFQUFhO0FBQ2QsYUFBS0MsS0FBTCxHQURjLENBQ0E7O0FBRWQsZUFBTyxLQUFLQyxNQUFMLENBQVksS0FBS0wsTUFBTCxDQUFZRyxHQUFaLENBQVosQ0FBUDtBQUNILEtBTGM7QUFNZkMsV0FBTSxpQkFBVTtBQUNaLGFBQUksSUFBSUUsSUFBRSxDQUFWLEVBQVlBLElBQUUsS0FBS1AsSUFBTCxDQUFVUSxNQUF4QixFQUErQkQsR0FBL0IsRUFBbUM7QUFDL0IsZ0JBQUcsS0FBS04sTUFBTCxDQUFZLEtBQUtELElBQUwsQ0FBVU8sQ0FBVixFQUFhWCxHQUF6QixDQUFILEVBQWlDO0FBQzdCLHFCQUFLSyxNQUFMLENBQVksS0FBS0QsSUFBTCxDQUFVTyxDQUFWLEVBQWFYLEdBQXpCLEVBQThCYSxJQUE5QixDQUFtQyxLQUFLVCxJQUFMLENBQVVPLENBQVYsQ0FBbkM7QUFDSCxhQUZELE1BRUs7QUFDRCxxQkFBS04sTUFBTCxDQUFZLEtBQUtELElBQUwsQ0FBVU8sQ0FBVixFQUFhWCxHQUF6QixJQUE4QixFQUE5QjtBQUNBLHFCQUFLSyxNQUFMLENBQVksS0FBS0QsSUFBTCxDQUFVTyxDQUFWLEVBQWFYLEdBQXpCLEVBQThCYSxJQUE5QixDQUFtQyxLQUFLVCxJQUFMLENBQVVPLENBQVYsQ0FBbkM7QUFDSDtBQUNKO0FBQ0RHLGdCQUFRQyxHQUFSLENBQVksS0FBS1YsTUFBakI7QUFDSCxLQWhCYztBQWlCZkssWUFBTyxnQkFBU1AsQ0FBVCxFQUFXO0FBQ2QsWUFBRyxDQUFDQSxDQUFKLEVBQU07QUFBQyxtQkFBTyxFQUFQO0FBQVU7QUFDakIsWUFBSWEsT0FBSyxXQUFUO0FBQ0EsYUFBSSxJQUFJTCxJQUFFLENBQVYsRUFBWUEsSUFBRVIsRUFBRVMsTUFBaEIsRUFBdUJELEdBQXZCLEVBQTJCO0FBQ3ZCSyxvQkFBTSxrQkFBZ0JiLEVBQUVRLENBQUYsRUFBS1osRUFBckIsR0FBd0IsSUFBeEIsR0FBNkJJLEVBQUVRLENBQUYsRUFBS1YsSUFBbEMsR0FBdUMsTUFBN0M7QUFDQWUsb0JBQU0sS0FBS04sTUFBTCxDQUFZLEtBQUtMLE1BQUwsQ0FBWUYsRUFBRVEsQ0FBRixFQUFLWixFQUFqQixDQUFaLENBQU47QUFDQWlCLG9CQUFNLFNBQU47QUFDSDtBQUNEQSxnQkFBTSxTQUFOO0FBQ0EsZUFBT0EsSUFBUDtBQUNIO0FBM0JjLENBQW5CO0FBNkJBLElBQUlBLE9BQUssSUFBSWQsUUFBSixDQUFhSixNQUFiLEVBQXFCUyxJQUFyQixDQUEwQixDQUExQixDQUFUO0FBQ0FPLFFBQVFDLEdBQVIsQ0FBWUMsSUFBWiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB6Tm9kZXM9W1xyXG4gICAge2lkOjAscElkOi0xLG5hbWU6XCJBYWFhXCJ9LFxyXG4gICAge2lkOjEscElkOjAsbmFtZTpcIkFcIn0sXHJcbiAgICB7aWQ6MTEscElkOjEsbmFtZTpcIkExXCJ9LFxyXG4gICAge2lkOjEyLHBJZDoxLG5hbWU6XCJBMlwifSxcclxuICAgIHtpZDoxMyxwSWQ6MSxuYW1lOlwiQTNcIn0sXHJcbiAgICB7aWQ6MixwSWQ6MCxuYW1lOlwiQlwifSxcclxuICAgIHtpZDoyMSxwSWQ6MixuYW1lOlwiQjFcIn0sXHJcbiAgICB7aWQ6MjIscElkOjIsbmFtZTpcIkIyXCJ9LFxyXG4gICAge2lkOjIzLHBJZDoyLG5hbWU6XCJCM1wifSxcclxuICAgIHtpZDozLHBJZDowLG5hbWU6XCJDXCJ9LFxyXG4gICAge2lkOjMxLHBJZDozLG5hbWU6XCJDMVwifSxcclxuICAgIHtpZDozMixwSWQ6MyxuYW1lOlwiQzJcIn0sXHJcbiAgICB7aWQ6MzMscElkOjMsbmFtZTpcIkMzXCJ9LFxyXG4gICAge2lkOjM0LHBJZDozMSxuYW1lOlwieFwifSxcclxuICAgIHtpZDozNSxwSWQ6MzEsbmFtZTpcInlcIn0sXHJcbiAgICB7aWQ6MzYscElkOjMxLG5hbWU6XCJ6XCJ9LFxyXG4gICAge2lkOjM3LHBJZDozNixuYW1lOlwiejExMjNcIn0gLFxyXG4gICAge2lkOjM4LHBJZDozNyxuYW1lOlwiejEyMzEyMzEyM1wifVxyXG5dO1xyXG5mdW5jdGlvbiB0cmVlTWVudShhKXtcclxuICAgIHRoaXMudHJlZT1hfHxbXTsvL3RoaXMudHJlZSDkuLog5Lyg5YWl55qE5pWw57uEXHJcbiAgICB0aGlzLmdyb3Vwcz17fTtcclxufTtcclxudHJlZU1lbnUucHJvdG90eXBlPXtcclxuICAgIGluaXQ6ZnVuY3Rpb24ocGlkKXtcclxuICAgICAgICB0aGlzLmdyb3VwKCk7IC8vIHBpZOS4uuimgeiOt+WPlueahGlkXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldERvbSh0aGlzLmdyb3Vwc1twaWRdKTtcclxuICAgIH0sXHJcbiAgICBncm91cDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy50cmVlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBpZih0aGlzLmdyb3Vwc1t0aGlzLnRyZWVbaV0ucElkXSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3Vwc1t0aGlzLnRyZWVbaV0ucElkXS5wdXNoKHRoaXMudHJlZVtpXSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cHNbdGhpcy50cmVlW2ldLnBJZF09W107XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3Vwc1t0aGlzLnRyZWVbaV0ucElkXS5wdXNoKHRoaXMudHJlZVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5ncm91cHMpXHJcbiAgICB9LFxyXG4gICAgZ2V0RG9tOmZ1bmN0aW9uKGEpe1xyXG4gICAgICAgIGlmKCFhKXtyZXR1cm4gJyd9XHJcbiAgICAgICAgdmFyIGh0bWw9J1xcbjx1bCA+XFxuJztcclxuICAgICAgICBmb3IodmFyIGk9MDtpPGEubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGh0bWwrPSc8bGk+PGEgaHJlZj1cIicrYVtpXS5pZCsnXCI+JythW2ldLm5hbWUrJzwvYT4nO1xyXG4gICAgICAgICAgICBodG1sKz10aGlzLmdldERvbSh0aGlzLmdyb3Vwc1thW2ldLmlkXSk7XHJcbiAgICAgICAgICAgIGh0bWwrPSc8L2xpPlxcbic7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBodG1sKz0nPC91bD5cXG4nO1xyXG4gICAgICAgIHJldHVybiBodG1sO1xyXG4gICAgfVxyXG59O1xyXG52YXIgaHRtbD1uZXcgdHJlZU1lbnUoek5vZGVzKS5pbml0KDApO1xyXG5jb25zb2xlLmxvZyhodG1sKTtcclxuXHJcblxyXG4iXX0=
