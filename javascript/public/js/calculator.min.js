"use strict";function getStyle(e,t){return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]}function move(e,t,o){clearInterval(e.timer),e.timer=setInterval(function(){var n=parseInt(getStyle(e,t)),r=parseInt(o),a=(r-n)/6;a=a>0?Math.ceil(a):Math.floor(a),e.style[t]=parseInt(getStyle(e,t))+a+"px",0==a&&clearInterval(e.timer)},30)}function addEvent(e,t,o){e.attachEvent?e.attachEvent("on"+t,o):e.addEventListener(t,o,!1)}function stopEvent(e){var t=e||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1}function getResult(){function evalResult(){var result=parseFloat(eval(oinput.value).toFixed(10));return result}try{var x=evalResult();return x}catch(e){oinput.className="showError";var errorHint=document.getElementById("errorHint");return move(errorHint,"top",0),setTimeout(function(){oinput.className="",move(errorHint,"top",-282)},2e3),oinput.value}}function enterResult(e){var t=e||window.event,o=document.getElementsByTagName("button");stopEvent(t),console.log(t.keyCode);for(var n=0;n<o.length;n++)o[n].innerHTML==t.key?(o[n].style.borderColor="white","Backspace"===t.key&&(oinput.value=oinput.value.toString().slice(0,-1))):o[n].style.borderColor="#000";if(13==t.keyCode||108==t.keyCode){var r=getResult();oinput.value=r}else 48!=t.keyCode&&49!=t.keyCode&&50!=t.keyCode&&51!=t.keyCode&&52!=t.keyCode&&53!=t.keyCode&&54!=t.keyCode&&55!=t.keyCode&&56!=t.keyCode&&57!=t.keyCode&&96!=t.keyCode&&97!=t.keyCode&&98!=t.keyCode&&99!=t.keyCode&&100!=t.keyCode&&101!=t.keyCode&&102!=t.keyCode&&103!=t.keyCode&&104!=t.keyCode&&105!=t.keyCode&&106!=t.keyCode&&107!=t.keyCode&&109!=t.keyCode&&110!=t.keyCode&&111!=t.keyCode&&190!=t.keyCode||("0"==oinput.value&&(oinput.value=""),oinput.value+=t.key)}function init(){var e=document.getElementsByTagName("table")[0];addEvent(document,"keydown",function(e){enterResult(e)}),addEvent(e,"click",function(e){stopEvent(e);var t=e||window.event,o=t.target||t.srcElement,n=document.getElementsByTagName("button");if("button"==o.nodeName.toLowerCase()){for(var r=0;r<n.length;r++)n[r].style.borderColor="#000";if(o.style.borderColor="white","setChange"!=o.className)"0"==oinput.value?(oinput.value="",oinput.value+=o.innerHTML):oinput.value+=o.innerHTML;else if("backSpace"==o.id)oinput.value=oinput.value.toString().slice(0,-1);else if("clearNum"==o.id)oinput.value="0";else{var a=getResult();oinput.value=a}}})}var oinput=document.getElementsByTagName("input")[0];init();